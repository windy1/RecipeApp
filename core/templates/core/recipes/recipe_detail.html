{% extends 'core/base.html' %}

<!--author: Ziming Dong-->

{% block title %}Recipe detail{% endblock %}

{% block content %}

<div class="holder">
<div class="container">

    <div class="board">
        <h1 id="recipename"> {{ recipe.name }} </h1>
        <p id="name"><span>👨‍🍳</span> By-{{ recipe.user.username }}</p>
        <h1 id="rating"> <span>🌟</span> Rating: {{ recipe.avg_rating }}</h1>
        <h2 id="description">Description: {{ recipe.summary }}</h2>
    </div>
    {% load static %}
    {% if recipe.image %}
        <img class="recipeviewimage" src="{% static recipe.image.url %}">
    {% endif %}
</div>

    <div class="relative">
    <h1> References:</h1>
    </div>

<div class="container">
    <div id="board2">
        <div class = "row">
{#            <h1>#}
{##}
{#        {% for category in recipe.categories.all %}#}
{#            <div class = "recipe_info" >Categories：[ {{ category.display_name }} ]</div>#}
{#        {% endfor %}#}
{#            </h1>#}
            <p class= "recipe_info"><span>⏰</span> Prepare Time: {{ recipe.prep_time }}</p>
            <p class = "recipe_info"><span>🥄</span> Servings: {{ recipe.servings }} </p></div>
            <div class = "row" id="row2">
            <p class = "recipe_info"><span>⏰</span> Cook Time: {{ recipe.cook_time }}</p>
            <p class = "recipe_info" id="cal"><span>🥄</span> Calories: {{ recipe.calories }} </p>

        </div>
    </div>
</div>
<hr class="hr">
    <div class="Ing">
        <h1> <span>🥘‍</span>Ingredients:</h1>
    </div>

    <div class="container">
    <div id="board3">
        <div >
            <h1>
                <ul>
    {% for ing in ingredients %}
        <li id="ingredients">{{ ing.quantity }} {{ ing.ingredient.name }}</li>
    {% endfor %}
    </ul>
            </h1>
        </div>
    </div>
</div>

<hr class="hr">
    <div class="relative">
        <h1> <span>📖</span> Directions:</h1>
    </div>
    <div class="container">
    <div id="board4">
        <div >
            <p>

    {% for dir in directions %}
        <div>{{ dir.text }}</div>
    {% endfor %}


            </p>
        </div>
    </div>
</div>

<hr class="hr">

    {% if can_review %}
        <div class="col-6 relative">
            <h1>Leave a review   <span>✍️</span></h1>
            <form action="{% url 'submit_review' recipe.id %}" method="post">
                {% csrf_token %}
                <div class="form-group">
                    <textarea class="form-control" name="text" id="text"></textarea>
                </div>
                <div class="form-group">
                    <label for="rating"id="rating">  Rating  </label>  <span>★</span>  <span>★</span>  <span>★</span>  <span>★</span> <span>☆</span>
                    <input type="number" class="form-control" name="rating" id="rating">
                </div>


                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </form>
        </div>


</div>
    {% endif %}



{% endblock %}
